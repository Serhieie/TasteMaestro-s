{"version":3,"file":"popular-2ce2a8c0.js","sources":["../../src/js/scrollUpBtn.js","../../src/js/commons.js","../../src/js/apiService.js","../../src/js/footer.js","../../src/js/popular.js"],"sourcesContent":["const btnToUp = document.querySelector('.btn-up');\nbtnToUp.addEventListener('click', () => {\n  window.scrollTo(0, 0);\n});\n\nwindow.onscroll = () => {\n  if (window.scrollY > 600) {\n    btnToUp.classList.remove('visually-hidden');\n    btnToUp.classList.remove('btn-up-hidden');\n  } else if (window.scrollY < 600) {\n    btnToUp.classList.add('visually-hidden');\n  }\n};\n\nexport { btnToUp };\n","const BASE_URL = 'https://food-boutique.b.goit.study/api';\nconst loader = document.querySelector('.loader');\n\nexport default {\n  BASE_URL,\n  loader,\n};\n","async function fetchContactsById(id) {\n  return await axios.get(`${BASE_URL}/contacts/${id}`);\n}\nasync function createContact(data) {\n  return await axios.post(`${BASE_URL}/contacts`, data);\n}\nimport axios from 'axios';\n// async function fetchContactsById(id) {\n//   return await axios.get(`${BASE_URL}/contacts/${id}`);\n// }\n// async function createContact(data) {\n//   return await axios.post(`${BASE_URL}/contacts`, data);\n// }\nasync function createSubscription(data) {\n  return await axios.post(\n    `https://food-boutique.b.goit.study/api/subscription`,\n    data\n  );\n}\n\nexport { createSubscription };\n","import { createSubscription } from \"./apiService\";\n\nconst form = document.querySelector('.footer-form-js');\nform.addEventListener('submit', onSubmit);\n\nconst regex = /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}/;\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  const email = evt.currentTarget.subscribe.value.trim().toLowerCase();\n  \n  if (!email.match(regex)) {\n    return;\n  }\n\n  const info = {\n    email: email,\n  };\n  createSubscription(info)\n    .then(data => {\n      if (data.status === 201) {\n        console.log('Thanks for subscribing for nnew products');\n      }\n    })\n    .catch(e => {\n      if (e.response.status === 409) {\n        console.log('This email address has already been entered');\n      } \n    });\n  evt.target.reset();\n}\n\n\n","import axios from 'axios';\n\nlet limit = 5;\nconst popularList = document.querySelector('.popular-js');\ngetPopular();\n\nasync function getPopular() {\n  try {\n    const response = await axios.get(\n      `https://food-boutique.b.goit.study/api/products/popular?limit=${limit}`\n    );\n    popularList.insertAdjacentHTML('beforeend', createMarkup(response));\n  } catch (error) {\n    //при помилці сетати деф значення\n    console.log('Упс! Щось пішло не так.');\n  }\n}\n\nfunction createMarkup(response) {\n  return response.data\n    .map(({ img, name, category, size, popularity, _id }) => {\n      const newCategory = category.replace('_', ' ');\n      return `<li class=\"popular_list_card\" data-id=\"${_id}\">\n        <svg class=\"sticker_icon visually-hidden\" width=\"60\" height=\"60\">\n          <use xlink:href=\"./img/sprite.svg#discount\"></use>\n        </svg>\n        <div class=\"popular_image_container\">\n          <img\n            class=\"popular_image\"\n            src=\"${img}\"\n            alt=\"${name}\"\n            width=\"56\"\n            height=\"56\"\n          />\n        </div>\n        <div class=\"popular_description_container\">\n          <h4 class=\"popular_product_title\">${name}</h4>\n          <ul class=\"popular_details\">\n            <li class=\"popular_details_item\">\n              <p class=\"popular_details_category\">\n                Category: <span class=\"popular_details_text\">${newCategory}</span>\n              </p>\n            </li>\n            <li class=\"popular_details_item\">\n              <p class=\"popular_details_category\">\n                Size: <span class=\"popular_details_text\">${size}</span>\n              </p>\n            </li>\n            <li class=\"popular_details_item\">\n              <p class=\"popular_details_category\">\n                Popularity: <span class=\"popular_details_text\">${popularity}</span>\n              </p>\n            </li>\n          </ul>\n        </div>\n        <div class=\"popular_order_container\">\n          <button class=\"popular_order_btn\">\n            <svg class=\"card-icon\" width=\"12\" height=\"12\">\n              <use href=\"./img/sprite.svg#shopping-cart\"></use>\n            </svg>\n          </button>\n        </div>\n      </li>`;\n    })\n    .join('');\n}\n"],"names":["btnToUp","createSubscription","data","axios","form","onSubmit","regex","evt","email","e","limit","popularList","getPopular","response","createMarkup","img","name","category","size","popularity","_id","newCategory"],"mappings":"+uBAAA,MAAMA,EAAU,SAAS,cAAc,SAAS,EAChDA,EAAQ,iBAAiB,QAAS,IAAM,CACtC,OAAO,SAAS,EAAG,CAAC,CACtB,CAAC,EAED,OAAO,SAAW,IAAM,CAClB,OAAO,QAAU,KACnBA,EAAQ,UAAU,OAAO,iBAAiB,EAC1CA,EAAQ,UAAU,OAAO,eAAe,GAC/B,OAAO,QAAU,KAC1BA,EAAQ,UAAU,IAAI,iBAAiB,CAE3C,ECXe,SAAS,cAAc,SAAS,ECY/C,eAAeC,EAAmBC,EAAM,CACtC,OAAO,MAAMC,EAAM,KACjB,sDACAD,CACJ,CACA,CChBA,MAAME,EAAO,SAAS,cAAc,iBAAiB,EACrDA,EAAK,iBAAiB,SAAUC,CAAQ,EAExC,MAAMC,EAAQ,gDAEd,SAASD,EAASE,EAAK,CACrBA,EAAI,eAAc,EAClB,MAAMC,EAAQD,EAAI,cAAc,UAAU,MAAM,KAAI,EAAG,cAEvD,GAAI,CAACC,EAAM,MAAMF,CAAK,EACpB,OAMFL,EAHa,CACX,MAAOO,CACX,CACyB,EACpB,KAAKN,GAAQ,CACRA,EAAK,SAAW,KAClB,QAAQ,IAAI,0CAA0C,CAE9D,CAAK,EACA,MAAMO,GAAK,CACNA,EAAE,SAAS,SAAW,KACxB,QAAQ,IAAI,6CAA6C,CAEjE,CAAK,EACHF,EAAI,OAAO,OACb,CC5BA,IAAIG,EAAQ,EACZ,MAAMC,EAAc,SAAS,cAAc,aAAa,EACxDC,IAEA,eAAeA,GAAa,CAC1B,GAAI,CACF,MAAMC,EAAW,MAAMV,EAAM,IAC3B,iEAAiEO,GACvE,EACIC,EAAY,mBAAmB,YAAaG,EAAaD,CAAQ,CAAC,CACnE,MAAC,CAEA,QAAQ,IAAI,yBAAyB,CACtC,CACH,CAEA,SAASC,EAAaD,EAAU,CAC9B,OAAOA,EAAS,KACb,IAAI,CAAC,CAAE,IAAAE,EAAK,KAAAC,EAAM,SAAAC,EAAU,KAAAC,EAAM,WAAAC,EAAY,IAAAC,KAAU,CACvD,MAAMC,EAAcJ,EAAS,QAAQ,IAAK,GAAG,EAC7C,MAAO,0CAA0CG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAOpCL;AAAA,mBACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAM2BA;AAAA;AAAA;AAAA;AAAA,+DAIiBK;AAAA;AAAA;AAAA;AAAA;AAAA,2DAKJH;AAAA;AAAA;AAAA;AAAA;AAAA,iEAKMC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAajE,CAAK,EACA,KAAK,EAAE,CACZ"}