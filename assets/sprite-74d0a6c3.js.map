{"version":3,"file":"sprite-74d0a6c3.js","sources":["../../src/js/additional-features/scroll-up-btn.js","../../src/js/commons.js","../../src/js/api-servise/api-service-basic.js","../../src/js/modals.js","../../src/js/helpers/toasts.js","../../src/js/footer.js","../../src/img/sprite.svg"],"sourcesContent":["const btnToUp = document.querySelector('.btn-up');\nbtnToUp.addEventListener('click', () => {\n  window.scrollTo(0, 0);\n});\n\nwindow.onscroll = () => {\n  if (window.scrollY > 600) {\n    btnToUp.classList.remove('visually-hidden');\n    btnToUp.classList.remove('btn-up-hidden');\n  } else if (window.scrollY < 600) {\n    btnToUp.classList.add('visually-hidden');\n  }\n};\n\nexport { btnToUp };\n","const BASE_URL = 'https://food-boutique.b.goit.study/api';\nconst loader = document.querySelector('.loader');\n//pagination\nconst paginationContainer = document.querySelector('.conteiner-pagination');\nconst forward = document.querySelector('.forward');\nconst back = document.querySelector('.back');\nlet filters = { keyword: null, category: null, page: 1, limit: 9 };\nlet isFetching = false;\n//\n\nexport default {\n  BASE_URL,\n  loader,\n  paginationContainer,\n  forward,\n  back,\n  filters,\n  isFetching,\n};\n","import axios from 'axios';\n\nasync function createSubscription(data) {\n  return await axios.post(\n    `https://food-boutique.b.goit.study/api/subscription`,\n    data\n  );\n}\n\nasync function getOrders() {\n  try {\n    const response = await axios.get(\n      'https://food-boutique.b.goit.study/api/orders'\n    );\n    return response.data; // Повертаємо дані з відповіді API\n  } catch (error) {\n    console.error('Помилка отримання замовлень:', error);\n    throw error;\n  }\n}\n\nasync function createOrder(order) {\n  return await axios.post(\n    `https://food-boutique.b.goit.study/api/orders`,\n    order\n  );\n}\n\n\n\n// function getFromLS(cartItems) {\n//   const data = localStorage.getItem(order);\n//   try {\n//     const info = JSON.parse(data).map(({ id, quantity }) => {\n//       id, quantity;\n//     });\n//   } catch {\n//     return data;\n//   }\n// }\n// const email = evt.currentTarget.subscribe.value.trim().toLowerCase();\n// const order = {\n//   email: email,\n//   products: [info],\n// };\n\n// createOrder(order)\n//   .then(data => console.log(data))\n//   .catch(e => console.error(e));\n\n// Приклад обʼєкту відправки\n// {\n//   \"email\": \"test@gmail.com\",\n//   \"products\": [\n//     {\n//       \"productId\": \"640c2dd963a319ea671e383b\",\n//       \"amount\": 2\n//     }\n//   ]\n// }\n\nexport { createSubscription, getOrders, createOrder };\n","// First case - Subscription has been already done \n// Second case - Subscription success\n\nconst refs = {\n    backdrop: document.querySelector(\".js-backdrop\"),\n    modalFirstCase: document.querySelector(\".js-modal-first-case\"),\n    modalSecondCase: document.querySelector(\".js-modal-second-case\"),\n    closeBtn: document.querySelectorAll(\".js-close\"),\n}\n\nfunction onClickFirstCase() {\n    refs.backdrop.classList.add(\"visually-hidden\");\n    refs.modalFirstCase.classList.add(\"visually-hidden\");\n    BtnFistCase.removeEventListener(\"click\", onClickFirstCase);\n};\n\nfunction onClickSecondCase() {\n    refs.backdrop.classList.add(\"visually-hidden\");\n    refs.modalSecondCase.classList.add(\"visually-hidden\");\n    BtnSecondCase.removeEventListener(\"click\", onClickSecondCase);\n};\n\nfunction onEscapeFirstCase(evt) {\n    evt.preventDefault();\n    if (evt.key === \"Escape\") {\n        refs.backdrop.classList.add(\"visually-hidden\");\n        refs.modalFirstCase.classList.add(\"visually-hidden\");\n        document.removeEventListener(\"keydown\", onEscape);\n    }\n};\n\nfunction onEscapeSecondCase(evt) {\n    evt.preventDefault();\n    if (evt.key === \"Escape\") {\n        refs.backdrop.classList.add(\"visually-hidden\");\n        refs.modalSecondCase.classList.add(\"visually-hidden\");\n        document.removeEventListener(\"keydown\", onEscape);\n    }\n};\n\nfunction backdropFirstCase() {\n    refs.backdrop.classList.add(\"visually-hidden\");\n    refs.modalFirstCase.classList.add(\"visually-hidden\");\n    refs.backdrop.removeEventListener(\"click\", backdropFirstCase);\n};\n\nfunction backdropSecondCase() {\n    refs.backdrop.classList.add(\"visually-hidden\");\n    refs.modalSecondCase.add(\"visually-hidden\");\n    refs.backdrop.removeEventListener(\"click\", backdropSecondCase);\n};\n\nfunction showModalFirstCase() {\n    refs.backdrop.classList.remove(\"visually-hidden\");\n    refs.modalFirstCase.classList.remove(\"visually-hidden\");\n\n    const BtnFistCase = refs.closeBtn[0];\n    BtnFistCase.addEventListener(\"click\", onClickFirstCase);\n    document.addEventListener(\"keydown\", onEscapeFirstCase);\n    refs.backdrop.addEventListener(\"click\", backdropFirstCase);\n};\n\nfunction showModalSecondCase() {\n    refs.backdrop.classList.remove(\"visually-hidden\");\n    refs.modalSecondCase.classList.remove(\"visually-hidden\");\n\n    const BtnSecondCase = refs.closeBtn[1];\n    BtnSecondCase.addEventListener(\"click\", onClickSecondCase);\n    document.addEventListener(\"keydown\", onEscapeSecondCase);\n    refs.backdrop.addEventListener(\"click\", backdropSecondCase);\n}\n\n\nexport {showModalFirstCase, showModalSecondCase}","import AWN from 'awesome-notifications';\n// import Notiflix from 'notiflix';\n// import 'notiflix/dist/notiflix-3.2.6.min.css';\n\nfunction toastCheck() {\n  const globalOptionsCheck = {\n    labels: { warning: 'Warning' },\n    icons: { warning: '<i class=\"fas fa-exclamation-triangle\"></i>' },\n    colors: { warning: '#FFA500' },\n    maxNotifications: 1,\n    durations: { global: 2000 },\n  };\n  return new AWN().warning('Please enter a correct email', globalOptionsCheck);\n}\nfunction toastWarning() {\n  const globalOptionsError = {\n    labels: { warning: 'Warning' },\n    icons: { warning: '<i class=\"fas fa-exclamation-triangle\"></i>' },\n    colors: { warning: '#FFA500' },\n    maxNotifications: 1,\n    durations: { global: 4000 },\n  };\n  return new AWN().warning(\n    'Oops! Something went wrong!Your email address is incorrect. Please try again',\n    globalOptionsError\n  );\n}\n\nfunction toastDeleted() {\n  const globalOptionsDeleted = {\n    labels: { warning: 'Warning' },\n    icons: { warning: '<i class=\"fas fa-exclamation-triangle\"></i>' },\n    colors: { warning: '#FFA500' },\n    maxNotifications: 1,\n    durations: { global: 4000 },\n  };\n  return new AWN().warning('Item was deleted', globalOptionsDeleted);\n}\n\nexport { toastCheck, toastWarning, toastDeleted };\n","import { createSubscription } from './api-servise/api-service-basic';\nimport 'awesome-notifications/dist/style.css';\nimport { showModalFirstCase, showModalSecondCase } from './modals';\nimport { toastCheck, toastWarning } from './helpers/toasts';\n\nconst form = document.querySelector('.footer-form-js');\nconst inputFooter = document.querySelector('#subscribe');\nform.addEventListener('submit', onSubmit);\nconst loader = document.querySelector('.loader-container');\n\nconst regex = /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}/;\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  const email = evt.currentTarget.subscribe.value.trim().toLowerCase();\n\n  if (!email.match(regex)) {\n    inputFooter.style.borderColor = 'red';\n    toastCheck();\n    return;\n  }\n\n  inputFooter.style.borderColor = '#e8e8e2';\n\n  const info = {\n    email: email,\n  };\n  loader.classList.remove('visually-hidden');\n  createSubscription(info)\n    .then(data => {\n      if (data.status === 201) {\n        loader.classList.add('visually-hidden');\n        showModalSecondCase();\n      }\n    })\n    .catch(e => {\n      if (e.response.status === 409) {\n        loader.classList.add('visually-hidden');\n        showModalFirstCase();\n      } else {\n        toastWarning();\n      }\n    });\n  evt.target.reset();\n}\n","export default \"__VITE_ASSET__b8313eac__\""],"names":["btnToUp","BASE_URL","loader","paginationContainer","forward","back","filters","isFetching","COMMONS","createSubscription","data","axios","refs","onClickFirstCase","onClickSecondCase","onEscapeFirstCase","evt","onEscapeSecondCase","backdropFirstCase","backdropSecondCase","showModalFirstCase","showModalSecondCase","toastCheck","globalOptionsCheck","AWN","toastWarning","globalOptionsError","form","inputFooter","onSubmit","regex","email","info","e","sprite"],"mappings":"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"}