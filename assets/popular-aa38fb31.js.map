{"version":3,"file":"popular-aa38fb31.js","sources":["../../src/js/scrollUpBtn.js","../../src/js/commons.js","../../src/js/apiService.js","../../src/js/markup.js","../../src/js/filter.js","../../src/js/footer.js","../../src/js/popular.js"],"sourcesContent":["const btnToUp = document.querySelector('.btn-up');\nbtnToUp.addEventListener('click', () => {\n  window.scrollTo(0, 0);\n});\n\nwindow.onscroll = () => {\n  if (window.scrollY > 600) {\n    btnToUp.classList.remove('visually-hidden');\n    btnToUp.classList.remove('btn-up-hidden');\n  } else if (window.scrollY < 600) {\n    btnToUp.classList.add('visually-hidden');\n  }\n};\n\nexport { btnToUp };\n","const BASE_URL = 'https://food-boutique.b.goit.study/api';\nconst loader = document.querySelector('.loader');\n\nexport default {\n  BASE_URL,\n  loader,\n};\n","async function fetchContactsById(id) {\n  return await axios.get(`${BASE_URL}/contacts/${id}`);\n}\nasync function createContact(data) {\n  return await axios.post(`${BASE_URL}/contacts`, data);\n}\nimport axios from 'axios';\n// async function fetchContactsById(id) {\n//   return await axios.get(`${BASE_URL}/contacts/${id}`);\n// }\n// async function createContact(data) {\n//   return await axios.post(`${BASE_URL}/contacts`, data);\n// }\nasync function createSubscription(data) {\n  return await axios.post(\n    `https://food-boutique.b.goit.study/api/subscription`,\n    data\n  );\n}\n\nexport { createSubscription };\n","\nexport function createProductItemMarkup({\n  _id,\n  name,\n  img,\n  desc,\n  category,\n  price,\n  size,\n  popularity,\n}) {\n  return `<li id=\"${_id}\" class=\"product__list__card\">\n        <svg class=\"sticker_icon visually-hidden\" width=\"60\" height=\"60\">\n          <use xlink:href=\"./img/sprite.svg#discount\"></use>\n        </svg>\n        <div class=\"product__image__wraper\">\n          <img\n            class=\"product__image\"\n            src=\"${img}\"\n            alt=\"${desc}\"\n            width=\"140px\"\n            height=\"140px\"\n          />\n        </div>\n        <div class=\"product__description__wraper\">\n          <h3 class=\"product__title\">${name}</h3>\n          <ul class=\"product__details\">\n            <li>\n              <p class=\"product__description__text\">\n                Category:\n                <span class=\"product__description__span\">${category}</span>\n              </p>\n            </li>\n            <li>\n              <p class=\"product__description__text\">\n                Size: <span class=\"product__description__span\">${size}</span>\n              </p>\n            </li>\n            <li>\n              <p class=\"product__description__text\">\n                Popularity: <span class=\"product__description__span\">${popularity}</span>\n              </p>\n            </li>\n          </ul>\n        </div>\n        <div class=\"product__order__wraper\">\n          <p class=\"product__price\">${'$' + price}</p>\n          <button class=\"product__order__btn\">\n            <svg class=\"card-icon\" width=\"18\" height=\"18\">\n              <use href=\"../../img/sprite.svg#shopping-cart\"></use>\n            </svg>\n          </button>\n        </div>\n      </li>`;\n}\n","import axios from 'axios';\nimport { createProductItemMarkup } from './markup.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const filterForm = document.getElementById('filterForm');\n    const keywordInput = document.getElementById('keywordInput');\n    const categorySelect = document.getElementById('categorySelect');\n    const productsList = document.getElementById('productsList');\n\n    const filters = { keyword: null, category: null, page: 1, limit: 6 };\n    let categories = [];\n\n    categorySelect.innerHTML = '<option value=\"category-text\" disabled selected>Categories</option>';\n\n    filterForm.addEventListener('submit', async (event) => {\n        event.preventDefault();\n        filters.keyword = keywordInput.value;\n        filters.category = categorySelect.value === '' ? null : categorySelect.value;\n        filters.page = 1;\n        await fetchProducts();\n    });\n\n    keywordInput.addEventListener('input', () => {\n        filters.keyword = keywordInput.value;\n        filters.page = 1;\n        fetchProducts();\n    });\n\n    categorySelect.addEventListener('change', () => {\n        filters.category = categorySelect.value === '' ? null : categorySelect.value;\n        filters.page = 1;\n        fetchProducts();\n    });\n\n    const fetchProducts = async () => {\n        try {\n            let url = `https://food-boutique.b.goit.study/api/products?page=${filters.page}&limit=${filters.limit}`;\n    \n            if (filters.keyword) {\n                url += `&keyword=${filters.keyword}`;\n            }\n    \n            if (filters.category && filters.category !== 'Show all') {\n                url += `&category=${filters.category}`;\n            }\n    \n            const response = await axios.get(url);\n            const data = response.data;\n            displayProducts(data.results);\n        } catch (error) {\n            console.error('Error fetching products:', error);\n        }\n    };\n\n    const displayProducts = (products) => {\n        productsList.innerHTML = '<ul class=\"product__list\">' +\n            products.map(product => createProductItemMarkup(product)).join('') +\n            '</ul>';\n    };\n\n    const fetchCategories = async () => {\n        try {\n            const response = await axios.get('https://food-boutique.b.goit.study/api/products/categories');\n            const data = response.data;\n            categories = ['Show all', ...data];\n            displayCategories(categories);\n        } catch (error) {\n            console.error('Error fetching categories:', error);\n        }\n    };\n\n    const displayCategories = (categories) => {\n        categorySelect.innerHTML = categories.map(category =>\n            `<option value=\"${category}\">${category}</option>`\n        ).join('');\n    };\n\n    fetchCategories();\n    fetchProducts();\n});","import { createSubscription } from './apiService';\n\nconst form = document.querySelector('.footer-form-js');\nconst inputFooter = document.querySelector('#subscribe');\nform.addEventListener('submit', onSubmit);\n\nconst regex = /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}/;\n\n// const paramsNotif = {\n//   position: 'center-center',\n//   timeout: 2000,\n//   width: '400px',\n//   fontSize: '24px',\n// };\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  const email = evt.currentTarget.subscribe.value.trim().toLowerCase();\n\n  if (!email.match(regex)) {\n    inputFooter.style.borderColor = 'red';\n    return;\n  }\n  inputFooter.style.borderColor = '#e8e8e2';\n\n  const info = {\n    email: email,\n  };\n  createSubscription(info)\n    .then(data => {\n      if (data.status === 201) {\n        console.log('Thanks for subscribing for nnew products');\n      }\n    })\n    .catch(e => {\n      if (e.response.status === 409) {\n        console.log('This email address has already been entered');\n      } else {\n        console.log(\n          'Oops! Something went wrong!Your email address is incorrect'\n        );\n      }\n    });\n  evt.target.reset();\n}\n","import axios from 'axios';\n\nlet limit = 5;\nconst popularList = document.querySelector('.popular-js');\ngetPopular();\n\nasync function getPopular() {\n  try {\n    const response = await axios.get(\n      `https://food-boutique.b.goit.study/api/products/popular?limit=${limit}`\n    );\n    popularList.insertAdjacentHTML('beforeend', createMarkup(response));\n  } catch (error) {\n    //при помилці сетати деф значення\n    console.log('Упс! Щось пішло не так.');\n  }\n}\n\nfunction createMarkup(response) {\n  return response.data\n    .map(({ img, name, category, size, popularity, _id }) => {\n      const newCategory = category.replace('_', ' ');\n      return `<li class=\"popular_list_card\" data-id=\"${_id}\">\n        <svg class=\"sticker_icon visually-hidden\" width=\"60\" height=\"60\">\n          <use xlink:href=\"./img/sprite.svg#discount\"></use>\n        </svg>\n        <div class=\"popular_image_container\">\n          <img\n            class=\"popular_image\"\n            src=\"${img}\"\n            alt=\"${name}\"\n            width=\"56\"\n            height=\"56\"\n          />\n        </div>\n        <div class=\"popular_description_container\">\n          <h4 class=\"popular_product_title\">${name}</h4>\n          <ul class=\"popular_details\">\n            <li class=\"popular_details_item\">\n              <p class=\"popular_details_category\">\n                Category: <span class=\"popular_details_text\">${newCategory}</span>\n              </p>\n            </li>\n            <li class=\"popular_details_item\">\n              <p class=\"popular_details_category\">\n                Size: <span class=\"popular_details_text\">${size}</span>\n              </p>\n            </li>\n            <li class=\"popular_details_item\">\n              <p class=\"popular_details_category\">\n                Popularity: <span class=\"popular_details_text\">${popularity}</span>\n              </p>\n            </li>\n          </ul>\n        </div>\n        <div class=\"popular_order_container\">\n          <button class=\"popular_order_btn\">\n            <svg class=\"card-icon\" width=\"12\" height=\"12\">\n              <use href=\"./img/sprite.svg#shopping-cart\"></use>\n            </svg>\n          </button>\n        </div>\n      </li>`;\n    })\n    .join('');\n}\n"],"names":["btnToUp","createSubscription","data","axios","createProductItemMarkup","_id","name","img","desc","category","price","size","popularity","filterForm","keywordInput","categorySelect","productsList","filters","categories","event","fetchProducts","url","displayProducts","error","products","product","fetchCategories","displayCategories","form","inputFooter","onSubmit","regex","evt","email","e","limit","popularList","getPopular","response","createMarkup","newCategory"],"mappings":"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"}