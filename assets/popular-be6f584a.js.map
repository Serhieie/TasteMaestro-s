{"version":3,"file":"popular-be6f584a.js","sources":["../../src/js/scrollUpBtn.js","../../src/js/commons.js","../../src/js/apiService.js","../../src/js/markup.js","../../src/js/filter.js","../../src/js/footer.js","../../src/js/popular.js"],"sourcesContent":["const btnToUp = document.querySelector('.btn-up');\nbtnToUp.addEventListener('click', () => {\n  window.scrollTo(0, 0);\n});\n\nwindow.onscroll = () => {\n  if (window.scrollY > 600) {\n    btnToUp.classList.remove('visually-hidden');\n    btnToUp.classList.remove('btn-up-hidden');\n  } else if (window.scrollY < 600) {\n    btnToUp.classList.add('visually-hidden');\n  }\n};\n\nexport { btnToUp };\n","const BASE_URL = 'https://food-boutique.b.goit.study/api';\nconst loader = document.querySelector('.loader');\n\nexport default {\n  BASE_URL,\n  loader,\n};\n","async function fetchContactsById(id) {\n  return await axios.get(`${BASE_URL}/contacts/${id}`);\n}\nasync function createContact(data) {\n  return await axios.post(`${BASE_URL}/contacts`, data);\n}\nimport axios from 'axios';\n// async function fetchContactsById(id) {\n//   return await axios.get(`${BASE_URL}/contacts/${id}`);\n// }\n// async function createContact(data) {\n//   return await axios.post(`${BASE_URL}/contacts`, data);\n// }\nasync function createSubscription(data) {\n  return await axios.post(\n    `https://food-boutique.b.goit.study/api/subscription`,\n    data\n  );\n}\n\nexport { createSubscription };\n","export function createProductItemMarkup({\n  _id,\n  name,\n  img,\n  desc,\n  category,\n  price,\n  size,\n  popularity,\n}) {\n  return `<li id=\"${_id}\" class=\"product__list__card\">\n        <svg class=\"sticker_icon visually-hidden\" width=\"60\" height=\"60\">\n          <use href=\"./img/sprite.svg#shopping-cart#discount\"></use>\n        </svg>\n        <div class=\"product__image__wraper\">\n          <img\n            class=\"product__image\"\n            src=\"${img}\"\n            alt=\"${desc}\"\n            width=\"140px\"\n            height=\"140px\"\n          />\n        </div>\n        <div class=\"product__description__wraper\">\n          <h3 class=\"product__title\">${name}</h3>\n          <ul class=\"product__details\">\n            <li>\n              <p class=\"product__description__text\">\n                Category:\n                <span class=\"product__description__span\">${category}</span>\n              </p>\n            </li>\n            <li>\n              <p class=\"product__description__text\">\n                Size: <span class=\"product__description__span\">${size}</span>\n              </p>\n            </li>\n            <li>\n              <p class=\"product__description__text\">\n                Popularity: <span class=\"product__description__span\">${popularity}</span>\n              </p>\n            </li>\n          </ul>\n        </div>\n        <div class=\"product__order__wraper\">\n          <p class=\"product__price\">${'$' + price}</p>\n          <button class=\"product__order__btn\">\n            <svg class=\"card-icon-product\" width=\"18\" height=\"18\">\n              <use href=\"./img/sprite.svg#shopping-cart\"></use>\n            </svg>\n          </button>\n        </div>\n      </li>`;\n}\n","import axios from 'axios';\nimport { createProductItemMarkup } from './markup.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const filterForm = document.getElementById('filterForm');\n  const keywordInput = document.getElementById('keywordInput');\n  const categorySelect = document.getElementById('categorySelect');\n  const productsList = document.getElementById('productsList');\n\n  const filters = { keyword: null, category: null, page: 1, limit: 6 };\n  let categories = [];\n\n  categorySelect.innerHTML =\n    '<option value=\"category-text\" disabled selected>Categories</option>';\n\n  filterForm.addEventListener('submit', async event => {\n    event.preventDefault();\n    filters.keyword = keywordInput.value;\n    filters.category =\n      categorySelect.value === '' ? null : categorySelect.value;\n    filters.page = 1;\n    await fetchProducts();\n  });\n\n  keywordInput.addEventListener('input', () => {\n    filters.keyword = keywordInput.value;\n    filters.page = 1;\n    fetchProducts();\n  });\n\n  categorySelect.addEventListener('change', () => {\n    filters.category =\n      categorySelect.value === '' ? null : categorySelect.value;\n    filters.page = 1;\n    fetchProducts();\n  });\n\n  const fetchProducts = async () => {\n    try {\n      let url = `https://food-boutique.b.goit.study/api/products?page=${filters.page}&limit=${filters.limit}`;\n\n      if (filters.keyword) {\n        url += `&keyword=${filters.keyword}`;\n      }\n\n      if (filters.category && filters.category !== 'Show all') {\n        url += `&category=${filters.category}`;\n      }\n\n      const response = await axios.get(url);\n      const data = response.data;\n      displayProducts(data.results);\n    } catch (error) {\n      console.error('Error fetching products:', error);\n    }\n  };\n\n  const displayProducts = products => {\n    productsList.innerHTML =\n      '<ul class=\"product__list\">' +\n      products.map(product => createProductItemMarkup(product)).join('') +\n      '</ul>';\n  };\n\n  const fetchCategories = async () => {\n    try {\n      const response = await axios.get(\n        'https://food-boutique.b.goit.study/api/products/categories'\n      );\n      const data = response.data;\n      categories = ['Show all', ...data];\n      displayCategories(categories);\n    } catch (error) {\n      console.error('Error fetching categories:', error);\n    }\n  };\n\n  const displayCategories = categories => {\n    categorySelect.innerHTML = categories\n      .map(category => `<option value=\"${category}\">${category}</option>`)\n      .join('');\n  };\n\n  fetchCategories();\n  fetchProducts();\n});\n","import { createSubscription } from './apiService';\nimport AWN from 'awesome-notifications';\nimport 'awesome-notifications/dist/style.css';\n\nconst form = document.querySelector('.footer-form-js');\nconst inputFooter = document.querySelector('#subscribe');\nform.addEventListener('submit', onSubmit);\n\nconst regex = /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}/;\n\nconst globalOptionsCheck = {\n  labels: { warning: 'Warning' },\n  icons: { warning: '<i class=\"fas fa-exclamation-triangle\"></i>' },\n  colors: { warning: '#FFA500' },\n  maxNotifications: 1,\n  durations: { global: 2000 },\n};\n\nconst globalOptionsError = {\n  labels: { warning: 'Warning' },\n  icons: { warning: '<i class=\"fas fa-exclamation-triangle\"></i>' },\n  colors: { warning: '#FFA500' },\n  maxNotifications: 1,\n  durations: { global: 4000 },\n};\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  const email = evt.currentTarget.subscribe.value.trim().toLowerCase();\n\n  if (!email.match(regex)) {\n    inputFooter.style.borderColor = 'red';\n    new AWN().warning('Please enter a correct email', globalOptionsCheck);\n    return;\n  }\n  inputFooter.style.borderColor = '#e8e8e2';\n\n  const info = {\n    email: email,\n  };\n  createSubscription(info)\n    .then(data => {\n      if (data.status === 201) {\n        console.log('Thanks for subscribing for nnew products');\n      }\n    })\n    .catch(e => {\n      if (e.response.status === 409) {\n        console.log('This email address has already been entered');\n      } else {\n        new AWN().warning(\n          'Oops! Something went wrong!Your email address is incorrect. Please try again',\n          globalOptionsError\n        );\n      }\n    });\n  evt.target.reset();\n}\n","import axios from 'axios';\n\nlet limit = 5;\nconst popularList = document.querySelector('.popular-js');\ngetPopular();\n\nasync function getPopular() {\n  try {\n    const response = await axios.get(\n      `https://food-boutique.b.goit.study/api/products/popular?limit=${limit}`\n    );\n    popularList.insertAdjacentHTML('beforeend', createMarkup(response));\n  } catch (error) {\n    //при помилці сетати деф значення\n    console.log('Упс! Щось пішло не так.');\n  }\n}\n\nfunction createMarkup(response) {\n  return response.data\n    .map(({ img, name, category, size, popularity, _id }) => {\n      const newCategory = category.replace('_', ' ');\n      return `<li class=\"popular_list_card\" data-id=\"${_id}\">\n        <svg class=\"sticker_icon visually-hidden\" width=\"60\" height=\"60\">\n          <use href=\"./img/sprite.svg#shopping-cart\"></use>\n        </svg>\n        <div class=\"popular_image_container\">\n          <img\n            class=\"popular_image\"\n            src=\"${img}\"\n            alt=\"${name}\"\n            width=\"56\"\n            height=\"56\"\n          />\n        </div>\n        <div class=\"popular_description_container\">\n          <h4 class=\"popular_product_title\">${name}</h4>\n          <ul class=\"popular_details\">\n            <li class=\"popular_details_item\">\n              <p class=\"popular_details_category\">\n                Category: <span class=\"popular_details_text\">${newCategory}</span>\n              </p>\n            </li>\n            <div class=\"popular_detail_wrap\">\n            <li class=\"popular_details_item\">\n              <p class=\"popular_details_category\">\n                Size: <span class=\"popular_details_text\">${size}</span>\n              </p>\n            </li>\n            <li class=\"popular_details_item\">\n              <p class=\"popular_details_category\">\n                Popularity: <span class=\"popular_details_text\">${popularity}</span>\n              </p>\n            </li>\n            </div>\n          </ul>\n        </div>\n        <div class=\"popular_order_container\">\n          <button class=\"popular_order_btn\">\n            <svg class=\"card-icon\" width=\"12\" height=\"12\">\n              <use href=\"./img/sprite.svg#shopping-cart\"></use>\n            </svg>\n          </button>\n        </div>\n      </li>`;\n    })\n    .join('');\n}\n"],"names":["btnToUp","createSubscription","data","axios","createProductItemMarkup","_id","name","img","desc","category","price","size","popularity","filterForm","keywordInput","categorySelect","productsList","filters","categories","event","fetchProducts","url","displayProducts","error","products","product","fetchCategories","displayCategories","form","inputFooter","onSubmit","regex","globalOptionsCheck","globalOptionsError","evt","email","AWN","e","limit","popularList","getPopular","response","createMarkup","newCategory"],"mappings":"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"}