{"version":3,"file":"footer-de476a4c.js","sources":["../../src/js/scrollUpBtn.js","../../src/js/commons.js","../../src/js/apiService.js","../../src/js/modals.js","../../src/js/footer.js"],"sourcesContent":["const btnToUp = document.querySelector('.btn-up');\nbtnToUp.addEventListener('click', () => {\n  window.scrollTo(0, 0);\n});\n\nwindow.onscroll = () => {\n  if (window.scrollY > 600) {\n    btnToUp.classList.remove('visually-hidden');\n    btnToUp.classList.remove('btn-up-hidden');\n  } else if (window.scrollY < 600) {\n    btnToUp.classList.add('visually-hidden');\n  }\n};\n\nexport { btnToUp };\n","const BASE_URL = 'https://food-boutique.b.goit.study/api';\nconst loader = document.querySelector('.loader');\n//pagination\nconst paginationContainer = document.querySelector('.conteiner-pagination');\nconst forward = document.querySelector('.forward');\nconst back = document.querySelector('.back');\nlet filters = { keyword: null, category: null, page: 1, limit: 9 };\nlet isFetching = false;\n//\n\nexport default {\n  BASE_URL,\n  loader,\n  paginationContainer,\n  forward,\n  back,\n  filters,\n  isFetching,\n};\n","import axios from 'axios';\n\nasync function createSubscription(data) {\n  return await axios.post(\n    `https://food-boutique.b.goit.study/api/subscription`,\n    data\n  );\n}\n\nexport { createSubscription };\n\nasync function getOrders() {\n  try {\n    const response = await axios.get(\n      'https://food-boutique.b.goit.study/api/orders'\n    );\n    return response.data; // Повертаємо дані з відповіді API\n  } catch (error) {\n    console.error('Помилка отримання замовлень:', error);\n    throw error;\n  }\n}\n\nexport { getOrders };\n","// First case - Subscription has been already done \n// Second case - Subscription success\n\nconst refs = {\n    backdrop: document.querySelector(\".js-backdrop\"),\n    modalFirstCase: document.querySelector(\".js-modal-first-case\"),\n    modalSecondCase: document.querySelector(\".js-modal-second-case\"),\n    closeBtn: document.querySelectorAll(\".js-close\"),\n}\n\nfunction onClick() {\n    refs.backdrop.classList.add(\"visually-hidden\");\n    refs.modalFirstCase.classList.add(\"visually-hidden\");\n};\n\nfunction onEscape(evt) {\n    evt.preventDefault();\n    if (evt.key === \"Escape\") {\n        refs.backdrop.classList.add(\"visually-hidden\");\n        refs.modalFirstCase.classList.add(\"visually-hidden\");\n        document.removeEventListener(\"keydown\", onEscape);\n    }\n};\n\nfunction backdropClick () {\n    refs.backdrop.classList.add(\"visually-hidden\");\n    refs.modalFirstCase.classList.add(\"visually-hidden\");\n};\n\nconsole.log(refs.closeBtn)\n\nfunction showModalFirstCase() {\n    refs.backdrop.classList.remove(\"visually-hidden\");\n    refs.modalFirstCase.classList.remove(\"visually-hidden\");\n\n    const BtnFistCase = refs.closeBtn[0];\n    BtnFistCase.addEventListener(\"click\", onClick);\n    document.addEventListener(\"keydown\", onEscape);\n    refs.backdrop.addEventListener(\"click\", backdropClick);\n};\n\nfunction showModalSecondCase() {\n    refs.backdrop.classList.remove(\"visually-hidden\");\n    refs.modalSecondCase.classList.remove(\"visually-hidden\");\n\n    const BtnSecondCase = refs.closeBtn[1];\n    BtnSecondCase.addEventListener(\"click\", onClick);\n    document.addEventListener(\"keydown\", onEscape);\n    refs.backdrop.addEventListener(\"click\", backdropClick);\n}\n\n\n\nexport {showModalFirstCase, showModalSecondCase}\n\n\n\n","import { createSubscription } from './apiService';\nimport AWN from 'awesome-notifications';\nimport 'awesome-notifications/dist/style.css';\nimport { showModalFirstCase, showModalSecondCase } from './modals';\n\nconst form = document.querySelector('.footer-form-js');\nconst inputFooter = document.querySelector('#subscribe');\nform.addEventListener('submit', onSubmit);\nconst loader = document.querySelector(\".loader-container\")\n\nconst regex = /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}/;\n\nconst globalOptionsCheck = {\n  labels: { warning: 'Warning' },\n  icons: { warning: '<i class=\"fas fa-exclamation-triangle\"></i>' },\n  colors: { warning: '#FFA500' },\n  maxNotifications: 1,\n  durations: { global: 2000 },\n};\n\nconst globalOptionsError = {\n  labels: { warning: 'Warning' },\n  icons: { warning: '<i class=\"fas fa-exclamation-triangle\"></i>' },\n  colors: { warning: '#FFA500' },\n  maxNotifications: 1,\n  durations: { global: 4000 },\n};\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  const email = evt.currentTarget.subscribe.value.trim().toLowerCase();\n  // ось це\n  if (!email.match(regex)) {\n    inputFooter.style.borderColor = 'red';\n    new AWN().warning('Please enter a correct email', globalOptionsCheck);\n    return;\n  }\n  inputFooter.style.borderColor = '#e8e8e2';\n\n  const info = {\n    email: email,\n  };\n  loader.classList.remove(\"visually-hidden\");\n  createSubscription(info)\n    .then(data => {\n      if (data.status === 201) {\n        loader.classList.add(\"visually-hidden\");\n        showModalSecondCase();\n        console.log('Thanks for subscribing for nnew products');\n      }\n    })\n    .catch(e => {\n      if (e.response.status === 409) {\n        loader.classList.add(\"visually-hidden\");\n        showModalFirstCase();\n        console.log('This email address has already been entered');\n      } else {\n        new AWN().warning(\n          'Oops! Something went wrong!Your email address is incorrect. Please try again',\n          globalOptionsError\n        );\n      }\n    });\n  evt.target.reset();\n}\n"],"names":["btnToUp","BASE_URL","loader","paginationContainer","forward","back","filters","isFetching","COMMONS","createSubscription","data","axios","refs","onClick","onEscape","evt","backdropClick","showModalFirstCase","showModalSecondCase","form","inputFooter","onSubmit","regex","globalOptionsCheck","globalOptionsError","email","AWN","info","e"],"mappings":"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"}