{"version":3,"file":"commonHelpers2.js","sources":["../src/js/local-storage/locale-storage-fn.js","../src/js/helpers/markup.js","../src/js/home-page-js/pagination.js","../src/js/home-page-js/filter.js","../src/js/home-page-js/popular.js","../src/js/home-page-js/discount.js","../src/js/modal-product-card.js"],"sourcesContent":["// import { toastDeleted } from '../helpers/toasts';\nwindow.addEventListener('load', changeCounter);\n\nconst KEY = 'cartItems';\n\nconst itemsContainer = document.querySelector('main');\nitemsContainer.addEventListener('click', checkLS);\n\nfunction checkLS(e) {\n  //отримання кнопки та перевірка чи клік відбувся по ній\n  const button = e.target.closest('.add-to-cart');\n  //збереження ід елемента в зміну (очікується клас на елемнті '.product_item')\n  const itemId = e.target.closest('.product_item');\n\n  // if (!itemId || itemId.nodeName !== 'LI') {\n  //   console.log(1)\n  //   return;\n  // }\n\n  if (button === null) {\n    return;\n  }\n\n  //дістаю ід з кнопки\n  const buttonId = e.target.closest('.add-to-cart').dataset.id;\n\n  const id = itemId.dataset.id;\n  const img = itemId.querySelector('#product__image').src;\n  const imgDsc = itemId.querySelector('#product__image').alt;\n  const title = itemId.querySelector('#product__title').textContent;\n  const category = itemId.querySelector('#product_category_name').textContent;\n  const size = itemId.querySelector('#product_size').textContent;\n  const price = itemId.querySelector('#product__price').textContent;\n\n  const check = itemId.querySelector('.card-icon-check');\n  const cart = itemId.querySelector('.card-icon-cart');\n\n  if (!localStorage.getItem(KEY)) {\n    //додаємо у випадку відсутнього ключа в ЛС'\n    const cartItem = [\n      { id, img, imgDsc, title, category, price, size, quantity: 1 },\n    ];\n    saveStorage(KEY, cartItem);\n    // cart.style.display = 'none';\n    // check.style.display = 'block';\n    changeCounter();\n    //потрібно змінити стан кнопки\n    changeIconCards(buttonId);\n  } else {\n    //при наявному ЛС перевіряється вміст та зміннюється к-ть\n    const updateCartItems = loadStorage(KEY);\n    const idx = updateCartItems.findIndex(\n      element => element.id === itemId.dataset.id\n    );\n    if (idx !== -1) {\n      //видалити\n      // updateCartItems[idx].quantity += 1;\n      updateCartItems.splice(idx, 1);\n      // cart.style.display = 'block';\n      // check.style.display = 'none';\n      //\n      changeIconCards(buttonId);\n    } else {\n      updateCartItems.push({\n        id,\n        img,\n        imgDsc,\n        title,\n        category,\n        price,\n        size,\n        quantity: 1,\n      });\n      // cart.style.display = 'none';\n      // check.style.display = 'block';\n      changeIconCards(buttonId);\n    }\n    saveStorage(KEY, updateCartItems);\n    changeCounter();\n  }\n}\n\nconst saveStorage = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nexport const loadStorage = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nfunction changeCounter() {\n  const counter = document.querySelector('.header__js_span');\n\n  if (!loadStorage(KEY)) {\n    counter.textContent = `CART (${0})`;\n  } else {\n    counter.textContent = `CART (${loadStorage(KEY).length})`;\n  }\n}\n\nfunction changeIconCards(dataId) {\n  // витягую всі кнопки з однаковим data-id\n  const cards = document.querySelectorAll(`.add-to-cart[data-id=\"${dataId}\"]`);\n\n  // перебираємо кнопки змінюючи кожній стан\n  cards.forEach(card => {\n    const cartIcon = card.querySelector('.card-icon-cart');\n    const checkIcon = card.querySelector('.card-icon-check');\n\n    if (cartIcon.style.display === 'block') {\n      cartIcon.style.display = 'none';\n      checkIcon.style.display = 'block';\n    } else {\n      cartIcon.style.display = 'block';\n      checkIcon.style.display = 'none';\n    }\n  });\n}\n","import sprite from '/img/sprite.svg';\nimport { loadStorage } from '../local-storage/locale-storage-fn';\n\nexport function createProductItemMarkup({\n  _id,\n  name,\n  img,\n  desc,\n  category,\n  price,\n  size,\n  popularity,\n  is10PercentOff,\n}) {\n  let updateCartItems = [];\n  let idx = -1;\n  if (loadStorage('cartItems')) {\n    updateCartItems = loadStorage('cartItems');\n    idx = updateCartItems.findIndex(element => element.id === _id);\n  }\n  return `<li data-id=\"${_id}\" class=\"product__list__card product_item js-card\">\n        <svg class=\"sticker_icon ${\n          is10PercentOff ? '' : 'visually-hidden'\n        }\" width=\"60\" height=\"60\" aria-label=\"discount\">\n          <use xlink:href=\"${sprite}#discount\"></use>\n        </svg>\n        <div class=\"product__image__wraper\">\n          <img\n          id=\"product__image\"\n            class=\"product__image\"\n            src=\"${img}\"\n            alt=\"${name}\"\n            width=\"140px\"\n            height=\"140px\"\n            aria-label=\"product\"\n          />\n        </div>\n        <div class=\"product__description__wraper\">\n          <h3 id=\"product__title\" class=\"product__title\">${name}</h3>\n          <ul class=\"product__details\">\n            <li class=\"product-description-item\">\n              <p class=\"product__description__text\">\n                Category:\n                <span id=\"product_category_name\" class=\"product__description__span\"}>${category.replace(\n                  /_/g,\n                  ' '\n                )}</span>\n              </p>\n            </li>\n            <li class=\"product-description-item\">\n              <p class=\"product__description__text\">\n                Size: <span id=\"product_size\" class=\"product__description__span\">${size}</span>\n              </p>\n            </li>\n            <li class=\"product-description-item\">\n              <p class=\"product__description__text\">\n                Popularity: <span class=\"product__description__span\">${popularity}</span>\n              </p>\n            </li>\n          </ul>\n        </div>\n        <div class=\"product__order__wraper\">\n          <p id=\"product__price\" class=\"product__price\">${'$' + price}</p>\n          <button type=\"button\" data-id=\"${_id}\" class=\"product__order__btn add-to-cart\" aria-label=\"add-cart\">\n            <svg class=\"card-icon-cart\" ${\n              idx === -1 ? \"style = 'display:block'\" : \"style = 'display:none'\"\n            }  width=\"18\" height=\"18\" aria-label=\"cart\">\n              <use xlink:href=\"${sprite}#shopping-cart\"></use>\n            </svg>\n            <svg class=\"card-icon-check\" ${\n              idx === -1 ? \"style = 'display:none'\" : \"style = 'display:block'\"\n            }  width=\"18\" height=\"18\" aria-label=\"cart\">\n              <use xlink:href=\"${sprite}#check\"></use>\n            </svg>\n          </button>\n        </div>\n      </li>`;\n}\n","import COMMONS from '../commons.js';\nimport { fetchProducts } from './filter.js';\n\nCOMMONS.paginationContainer.addEventListener('click', onPaginationClick);\n\n//запускаємо запит по кліку та робимо +/- сторінки\nasync function onPaginationClick(event) {\n  const selectedPage = parseInt(event.target.textContent);\n  if (COMMONS.isFetching) {\n    return;\n  }\n\n  if (event.target.closest('.pagination-btn')) {\n    if (event.target.classList.contains('back')) {\n      if (COMMONS.filters.page === 1) {\n        return;\n      } else if (COMMONS.filters.page > 0) {\n        COMMONS.filters.page -= 1;\n      }\n    } else if (event.target.classList.contains('forward')) {\n      if (COMMONS.filters.page >= COMMONS.filters.totalPages) {\n        return;\n      } else if (COMMONS.filters.page < COMMONS.filters.totalPages) {\n        COMMONS.filters.page += 1;\n      }\n    }\n    fetchProducts(COMMONS.filters.page);\n  }\n\n  if (event.target.classList.contains('pagi_item_span')) {\n    if (event.target.textContent === '...') return;\n    if (selectedPage === COMMONS.filters.page) {\n      return;\n    }\n\n    COMMONS.filters.page = selectedPage;\n    fetchProducts(COMMONS.filters.page);\n    updatePagination();\n  }\n}\n\n//відтворюємо активний елемент та передаємо значення сторінки\nfunction updatePagination() {\n  const paginationItems = document.querySelectorAll('.pagi_item');\n  paginationItems.forEach(item => {\n    item.classList.remove('isActive');\n    if (parseInt(item.textContent) === COMMONS.filters.page) {\n      item.classList.add('isActive');\n    }\n  });\n}\n\n//створюємо елементи\nfunction createPaginationItem(pageNumber, isActive) {\n  const activeClass = isActive ? 'is-active' : '';\n  const paddingChange = COMMONS.filters.page >= 10 ? 'py' : '';\n  return `<li class=\"pagi_item ${activeClass} pagination_item\"><span class=\"pagi_item_span ${paddingChange}\">${pageNumber}</span></li>`;\n}\nfunction createEllipsisItem() {\n  return `<li class=\"pagi_item pagination_item ellipsis\"><span class=\"pagi_item_span pagi_item_span_ellipsis\">...</span></li>`;\n}\n\n//створюємо вміст елементів і їх стан\nfunction createPaginationMarkup(totalHits, page) {\n  hidePagination(totalHits);\n\n  if (COMMONS.filters.page <= 1) {\n    COMMONS.back.setAttribute('disabled', true);\n  } else {\n    COMMONS.back.removeAttribute('disabled');\n  }\n\n  if (COMMONS.filters.page >= COMMONS.filters.totalPages) {\n    COMMONS.forward.setAttribute('disabled', true);\n  } else {\n    COMMONS.forward.removeAttribute('disabled');\n  }\n\n  const lastPage = Math.ceil(totalHits);\n  let displayedPages;\n\n  if (window.innerWidth < 768) {\n    displayedPages = 1;\n  } else {\n    displayedPages = 2;\n  }\n\n  const paginationList = document.querySelector('.pagination-list');\n  paginationList.innerHTML = '';\n\n  if (lastPage > 1) {\n    let paginationHTML = '';\n\n    let startPage = 1;\n    let endPage = lastPage;\n\n    if (lastPage > 5) {\n      startPage = Math.max(1, page - displayedPages);\n      endPage = Math.min(lastPage, page + displayedPages);\n\n      if (startPage === 1) {\n        if (window.innerWidth < 768) {\n          endPage = 3;\n        } else {\n          endPage = 5;\n        }\n      } else if (endPage === lastPage) {\n        startPage = lastPage - 4;\n      }\n    }\n\n    if (startPage >= 2) {\n      paginationHTML += createPaginationItem(1, page === 1);\n      paginationHTML += createEllipsisItem();\n    }\n\n    for (let i = startPage; i <= endPage; i += 1) {\n      paginationHTML += createPaginationItem(i, i === page);\n    }\n\n    if (endPage < lastPage) {\n      paginationHTML += createEllipsisItem();\n      paginationHTML += createPaginationItem(lastPage, lastPage === page);\n    }\n\n    paginationList.innerHTML = paginationHTML;\n  }\n}\n\n//приховуємо пагінацію\nfunction hidePagination(totalHits) {\n  if (totalHits <= 1) {\n    COMMONS.paginationContainer.classList.add('visually-hidden');\n  } else {\n    COMMONS.paginationContainer.classList.remove('visually-hidden');\n  }\n}\n\nexport { createPaginationMarkup };\n","import axios from 'axios';\nimport { createProductItemMarkup } from '../helpers/markup.js';\nimport COMMONS from '../commons.js';\nimport {\n  showLoaderProductList,\n  hideLoaderProductList,\n} from '../helpers/loaders.js';\nimport { createPaginationMarkup } from './pagination.js';\n\nconst filterForm = document.querySelector('.filters-from');\nconst keywordInput = document.getElementById('keywordInput');\nconst categorySelectButton = document.getElementById('categorySelect');\nconst categoryList = document.querySelector('.category-list');\nconst sortProductsButton = document.getElementById('sortProducts');\nconst sortProductsList = document.querySelector('.sortProducts-list');\nconst productsList = document.querySelector('.product__list');\n// const categoryListForNoItems = document.querySelector('.container__products');\nconst svgCategory = document.querySelector('.svg__category');\nconst svgSort = document.querySelector('.svg__category_use');\n\nlet categories = [];\n\nconst saveFiltersToLocalStorage = () => {\n  localStorage.setItem('filters', JSON.stringify(COMMONS.filters));\n};\n\nconst loadFiltersFromLocalStorage = () => {\n  const savedFilters = JSON.parse(localStorage.getItem('filters'));\n\n  if (!savedFilters) {\n    return;\n  }\n\n  if (savedFilters) {\n    if (savedFilters.keyword) {\n      keywordInput.value = savedFilters.keyword;\n    }\n    COMMONS.filters = savedFilters;\n  }\n\n  if (savedFilters.category === null) {\n    return;\n  }\n  if (savedFilters.sort === null) {\n    return;\n  }\n  let displayCategory = savedFilters.category.replace(/_/g, ' ');\n  if (savedFilters.category.includes('%26')) {\n    displayCategory = displayCategory.replace(/%26/g, '&');\n  }\n  updateSortButtonText(savedFilters.sort);\n  categorySelectButton.textContent = displayCategory.replace(/_/g, ' ');\n};\n\nwindow.addEventListener('resize', onResize);\n\nfunction onResize() {\n  if (window.innerWidth >= 1440) {\n    COMMONS.filters.limit = 9;\n  } else if (window.innerWidth <= 1440 && window.innerWidth >= 768) {\n    COMMONS.filters.limit = 8;\n  } else {\n    COMMONS.filters.limit = 6;\n  }\n}\n\nloadFiltersFromLocalStorage();\n\nexport async function fetchProducts() {\n  try {\n    onResize();\n\n    let url = `${COMMONS.BASE_URL}/products?page=${COMMONS.filters.page}&limit=${COMMONS.filters.limit}`;\n\n    if (COMMONS.filters.keyword) {\n      url += `&keyword=${COMMONS.filters.keyword}`;\n    }\n\n    if (COMMONS.filters.category && COMMONS.filters.category !== 'Show all') {\n      if (COMMONS.filters.category.includes('&')) {\n        COMMONS.filters.category = COMMONS.filters.category.replace(\n          /&/g,\n          '%26'\n        );\n      }\n      url += `&category=${COMMONS.filters.category}`;\n    }\n\n    if (COMMONS.filters.sort && COMMONS.filters.sort !== 'all') {\n      switch (COMMONS.filters.sort) {\n        case 'alphabetical':\n          url += `&byABC=true`;\n          break;\n        case 'reverse-alphabetical':\n          url += `&byABC=false`;\n          break;\n        case 'cheap':\n          url += `&byPrice=true`;\n          break;\n        case 'expensive':\n          url += `&byPrice=false`;\n          break;\n        case 'popular':\n          url += `&byPopularity=false`;\n          break;\n        case 'not-popular':\n          url += `&byPopularity=true`;\n          break;\n      }\n    }\n    showLoaderProductList();\n    const response = await axios.get(url);\n    const data = response.data;\n    COMMONS.filters.totalPages = data.totalPages;\n    createPaginationMarkup(data.totalPages, COMMONS.filters.page);\n    displayProducts(data.results);\n    saveFiltersToLocalStorage();\n    hideLoaderProductList();\n  } catch (error) {\n    console.error('Error fetching products:', error);\n  }\n}\n\nconst displayProducts = products => {\n  productsList.innerHTML = products\n    .map(product => createProductItemMarkup(product))\n    .join('');\n  if (!products.length) {\n    productsList.innerHTML =\n      '<div class=\"nothing-found-conteiner\"><p class=\"nothing-found\">Nothing was found for the selected <span class=\"nothing-found_filter\"> filters...</span></p><p class=\"inf-nothing-found\">Try adjusting your search parameters or browse our range by other criteria to find the perfect product for you. </p></div>';\n  }\n};\n\nconst fetchCategories = async () => {\n  try {\n    const response = await axios.get(\n      'https://food-boutique.b.goit.study/api/products/categories'\n    );\n    const data = response.data;\n    categories = [...data, 'Show all'];\n    displayCategories(categories);\n  } catch (error) {\n    console.error('Error fetching categories:', error);\n  }\n};\n\nfunction displayCategories(categories) {\n  const listItems = categories\n    .map(category => {\n      let displayCategory = category.replace(/_/g, ' ');\n      if (category === 'Breads_&_Bakery') {\n        displayCategory = displayCategory.replace(/&/g, '/');\n      }\n\n      return `<li class=\"category-item\" data-value=\"${category}\">${displayCategory}</li>`;\n    })\n    .join('');\n\n  categoryList.innerHTML = listItems;\n}\n\nfunction updateSortButtonText(sortOption) {\n  switch (sortOption) {\n    case 'alphabetical':\n      sortProductsButton.textContent = 'A to Z';\n      break;\n    case 'reverse-alphabetical':\n      sortProductsButton.textContent = 'Z to A';\n      break;\n    case 'cheap':\n      sortProductsButton.textContent = 'Cheap';\n      break;\n    case 'expensive':\n      sortProductsButton.textContent = 'Expensive';\n      break;\n    case 'popular':\n      sortProductsButton.textContent = 'Popular';\n      break;\n    case 'not-popular':\n      sortProductsButton.textContent = 'Not popular';\n      break;\n    case 'all':\n      sortProductsButton.textContent = 'Show all';\n      break;\n    default:\n      break;\n  }\n}\n\nsortProductsButton.addEventListener('click', event => {\n  event.preventDefault();\n  sortProductsList.classList.toggle('show');\n  svgSort.classList.toggle('rotate-sort');\n});\n\nconst updateCategoryButtonText = category => {\n  categorySelectButton.textContent = category;\n};\n\nconst getCategoryValue = selectedItem => {\n  return selectedItem ? selectedItem.getAttribute('data-value') : null;\n};\n\nconst getSortValue = selectedItem => {\n  return selectedItem ? selectedItem.getAttribute('data-value') : null;\n};\n\nconst hideCategoryList = () => {\n  categoryList.classList.remove('show');\n};\n\nconst hideSortList = () => {\n  sortProductsList.classList.remove('show');\n};\n\ncategorySelectButton.addEventListener('click', event => {\n  event.preventDefault();\n  categoryList.classList.toggle('show');\n  svgCategory.classList.toggle('rotate-category');\n});\n\ndocument.addEventListener('click', event => {\n  if (\n    !event.target.matches('#sortProducts') &&\n    !event.target.closest('.sortProducts-list')\n  ) {\n    hideSortList();\n    if (svgSort.classList.contains('rotate-sort')) {\n      svgSort.classList.toggle('rotate-sort');\n    }\n  }\n});\n\ndocument.addEventListener('click', event => {\n  if (\n    !event.target.matches('#categorySelect') &&\n    !event.target.closest('.category-list')\n  ) {\n    hideCategoryList();\n    if (svgCategory.classList.contains('rotate-category')) {\n      svgCategory.classList.toggle('rotate-category');\n    }\n  }\n});\n\nkeywordInput.addEventListener('input', () => {\n  COMMONS.filters.keyword = keywordInput.value;\n  COMMONS.filters.page = 1;\n  if (COMMONS.filters.keyword === '') {\n    fetchProducts();\n  }\n});\n\nfilterForm.addEventListener('submit', async event => {\n  event.preventDefault();\n  if (COMMONS.isFetching || !COMMONS.filters.keyword) return;\n  COMMONS.filters.keyword = keywordInput.value;\n  COMMONS.filters.page = 1;\n  fetchProducts();\n});\n\ncategoryList.addEventListener('click', event => {\n  if (event.target.classList.contains('category-item')) {\n    const selectedCategory = getCategoryValue(event.target);\n    let displayCategory = selectedCategory.replace(/[%\\d_]+/g, ' ').trim();\n\n    COMMONS.filters.category = selectedCategory;\n    COMMONS.filters.page = 1;\n\n    updateCategoryButtonText(displayCategory);\n    svgCategory.classList.toggle('rotate-category');\n    fetchProducts();\n    hideCategoryList();\n  }\n});\n\nsortProductsList.addEventListener('click', event => {\n  if (event.target.classList.contains('category-item')) {\n    const selectedSortOption = getSortValue(event.target);\n    COMMONS.filters.sort = selectedSortOption;\n    COMMONS.filters.page = 1;\n    updateSortButtonText(selectedSortOption);\n    svgSort.classList.toggle('rotate-sort');\n    fetchProducts();\n    hideSortList();\n  }\n});\n\nfetchCategories();\nfetchProducts();\nloadFiltersFromLocalStorage();\n","import axios from 'axios';\nimport sprite from '/img/sprite.svg';\nimport { loadStorage } from '../local-storage/locale-storage-fn';\n\nlet limit = 5;\nconst popularList = document.querySelector('.popular-js');\ngetPopular();\n\nasync function getPopular() {\n  try {\n    const response = await axios.get(\n      `https://food-boutique.b.goit.study/api/products/popular?limit=${limit}`\n    );\n    popularList.insertAdjacentHTML('beforeend', createMarkup(response));\n  } catch (error) {\n    //при помилці сетати деф значенняn\n    console.log(`Упс! Щось пішло не так. \n    ${'Error: ' + error.message} `);\n  }\n}\n\nfunction createMarkup(response) {\n  return response.data\n    .map(({ _id, name, img, category, price, size, popularity }) => {\n      const newCategory = category.replace('_', ' ');\n      let updateCartItems = [];\n      let idx = -1;\n      if (loadStorage('cartItems')) {\n        updateCartItems = loadStorage('cartItems');\n        idx = updateCartItems.findIndex(element => element.id === _id);\n      }\n      return `<li id=\"product_${_id}\" data-id=\"${_id}\" class=\"popular_list_card product_item js-card\">\n         <svg class=\"popular_discount_icon visually-hidden\" width=\"60\" height=\"60\" alt=\"Discount\" aria-hidden=\"true\"\n  role=\"img\"   focusable=\"false\">\n          <use xlink:href=\"${sprite}#Discount\"></use>\n         </svg>\n         <div class=\"popular_image_container\">\n           <img id=\"product__image\"\n             class=\"popular_image\"\n             src=\"${img}\"\n             alt=\"Image of ${name}\"\n             width=\"56\"\n             height=\"56\"\n            aria-label=\"product_${_id}_image\"\n           />\n         </div>\n        <div class=\"popular_description_container\">\n          <h3 id=\"product__title\" class=\"popular_product_title\" aria-label=\"product_${_id}_title\">${name}</h3>\n          <ul class=\"popular_details\">\n            <li class=\"popular_details_item\">\n              <p class=\"popular_details_category\">\n                Category:\n                <span id=\"product_category_name\" class=\"popular_details_text\">${newCategory}</span>\n              </p>\n            </li>\n             <div class=\"popular_detail_wrap\">\n            <li class=\"popular_details_item\">\n              <p class=\"popular_details_category\">\n                Size: <span id=\"product_size\" class=\"popular_details_text\">${size}</span>\n              </p>\n            </li>\n            <li class=\"popular_details_item\">\n              <p class=\"popular_details_category\">\n                Popularity: <span class=\"popular_details_text\">${popularity}</span>\n              </p>\n            </li>\n            </div>\n          </ul>\n        </div>\n        <div class=\"popular_order_container\">\n          <p id=\"product__price\" style = \"display:none\">${'$' + price}</p>\n          <button data-id=\"${_id}\" class=\" popular_order_btn add-to-cart\" aria-label=\"Add product to cart\">\n            <svg class=\"card-icon-cart popular-icon\" ${\n              idx === -1 ? \"style = 'display:block'\" : \"style = 'display:none'\"\n            }  width=\"12\" height=\"12\" aria-hidden=\"true\" role=\"img\" focusable=\"false\">\n              <use xlink:href=\"${sprite}#shopping-cart\"></use>\n            </svg>\n            <svg class=\"card-icon-check popular-icon-check\" ${\n              idx === -1 ? \"style = 'display:none'\" : \"style = 'display:block'\"\n            }  width=\"12\" height=\"12\" aria-hidden=\"true\" role=\"img\" focusable=\"false\">\n              <use xlink:href=\"${sprite}#check\"></use>\n            </svg>\n          </button>\n        </div>\n      </li>`;\n    })\n    .join('');\n}\n","import axios from 'axios';\nimport sprite from '../../img/sprite.svg';\nimport { loadStorage } from '../local-storage/locale-storage-fn';\n\nconst refs = {\n  discountCardList: document.querySelector('.discount-card-list'),\n};\n\nproductsWithDiscountShow();\n// можна додати зміну продуктів зі знижкою через заданий час:\n// const intervalId = setInterval(productsWithDiscountShow, 10000);\n\nasync function productsWithDiscountShow() {\n  try {\n    const cards = await productsWithDiscountServise();\n    const randomCards = getRandomTwoCards(cards);\n    refs.discountCardList.innerHTML = productsWithDiscountMarkup(randomCards);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nasync function productsWithDiscountServise() {\n  const BASE_URL = 'https://food-boutique.b.goit.study/api';\n  const END_POINT = 'products/discount';\n\n  try {\n    const { data } = await axios.get(`${BASE_URL}/${END_POINT}`);\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction getRandomTwoCards(arr) {\n  const newArray = [...arr];\n\n  const randomIndex1 = Math.floor(Math.random() * newArray.length);\n  const element1 = newArray[randomIndex1];\n\n  newArray.splice(randomIndex1, 1);\n\n  const randomIndex2 = Math.floor(Math.random() * newArray.length);\n  const element2 = newArray[randomIndex2];\n\n  return [element1, element2];\n}\n\nfunction productsWithDiscountMarkup(array) {\n  let updateCartItems = [];\n  let idx = -1;\n  if (loadStorage('cartItems')) {\n    updateCartItems = loadStorage('cartItems');\n    idx = updateCartItems.findIndex(element => element.id === array._id);\n  }\n\n  // console.log(loadStorage('cartItems'));\n  return array\n    .map(\n      ({ _id, name, img, category, price, size, popularity }) => `\n      <li data-id=\"${_id}\" class=\"discount-card product_item js-card\">\n         <div class=\"img-field\">\n         <img\n            id=\"product__image\"\n             class=\"discount-product-img\"\n             src=\"${img}\"\n             alt=\"${name}\"\n           />\n         </div>\n         <div class=\"discount-product-info\">\n           <p id=\"product__title\" class=\"discount-product-name\">${name}</p>\n           <div class=\"discount-product-buy\">\n             <p id=\"product__price\" class=\"discount-product-price\">\n               $<span class=\"js-discount-product-price\">${price}</span>\n             </p>\n             <button data-id=\"${_id}\" class=\"discount-cart-btn add-to-cart\" type=\"button\">\n                <svg class=\"card-icon-cart discount-cart-icon\" ${\n                  idx === -1\n                    ? \"style = 'display:block'\"\n                    : \"style = 'display:none'\"\n                }  width=\"18\" height=\"18\">\n                      <use xlink:href=\"${sprite}#shopping-cart\"></use>\n                  </svg>\n                  <svg class=\"card-icon-check discount-check-icon\" ${\n                    idx === -1\n                      ? \"style = 'display:none'\"\n                      : \"style = 'display:block'\"\n                  }  width=\"18\" height=\"18\">\n                      <use xlink:href=\"${sprite}#check\"></use>\n                  </svg>\n             </button>\n           </div>\n         </div>\n         <svg class=\"discount-label-icon\" width=\"60\" height=\"60\">\n           <use xlink:href=\"${sprite}#discount\"></use>\n         </svg>\n         <span id=\"product_category_name\" class=\"visually-hidden\">${category}</span>\n         <span id=\"product_size\" class=\"visually-hidden\">${size}</span>\n         <span class=\"product__description__span visually-hidden\">${popularity}</span>\n       </li>`\n    )\n    .join('');\n}\n","import axios from 'axios';\nimport sprite from '/img/sprite.svg';\nimport { loadStorage } from './local-storage/locale-storage-fn';\n\nconst modalCard = document.querySelector('.js-modal-product-card');\nconst backdrop = document.querySelector('.js-backdrop');\nconst loader = document.querySelector('.loader-container');\nconst fatherDiv = document.querySelector('.father_div');\nconst body = document.querySelector('body');\n\nfatherDiv.addEventListener('click', onClickProductCard);\n\nasync function onClickProductCard(event) {\n  if (event.target === event.currentTarget) {\n    return;\n  }\n  const element = event.target.closest('.js-card');\n  if (element === null) {\n    return;\n  }\n  const elementId = element.dataset.id;\n  if (event.target.closest('.add-to-cart')) {\n    return;\n  }\n  loader.classList.remove('visually-hidden');\n  body.classList.add('modal-is-open');\n  const cardInfo = await getProductCardInfo(elementId);\n\n  modalCard.innerHTML = '';\n  const { _id, category, desc, img, name, popularity, price, size } = cardInfo;\n  const modalCardMarkup = createMarkupProductCard(\n    _id,\n    category,\n    desc,\n    img,\n    name,\n    popularity,\n    price,\n    size\n  );\n  modalCard.innerHTML = modalCardMarkup;\n\n  loader.classList.add('visually-hidden');\n  modalCard.classList.remove('visually-hidden');\n\n  const closeBtn = document.querySelector('.js-btn-close-card');\n  closeBtn.addEventListener('click', onClick);\n  backdrop.addEventListener('click', backdropOnClick);\n  document.addEventListener('keydown', onEscape);\n\n  function onClick() {\n    backdrop.classList.add('visually-hidden');\n    modalCard.classList.add('visually-hidden');\n    body.classList.remove('modal-is-open');\n    modalCard.innerHTML = '';\n    closeBtn.removeEventListener('click', onClick);\n    document.removeEventListener('keydown', onEscape);\n  }\n\n  function backdropOnClick(event) {\n    if (event.target.closest('.product_item')) {\n      return;\n    }\n\n    backdrop.classList.add('visually-hidden');\n    modalCard.classList.add('visually-hidden');\n    body.classList.remove('modal-is-open');\n    modalCard.innerHTML = '';\n    backdrop.removeEventListener('click', backdropOnClick);\n    document.removeEventListener('keydown', onEscape);\n  }\n\n  function onEscape(evt) {\n    evt.preventDefault();\n    if (evt.key === 'Escape') {\n      backdrop.classList.add('visually-hidden');\n      modalCard.classList.add('visually-hidden');\n      body.classList.remove('modal-is-open');\n      modalCard.innerHTML = '';\n      document.removeEventListener('keydown', onEscape);\n    }\n  }\n}\n\nasync function getProductCardInfo(id) {\n  try {\n    modalCard.classList.remove('visually-hidden');\n    backdrop.classList.remove('visually-hidden');\n\n    const BASE_URL = 'https://food-boutique.b.goit.study/api';\n    const ENDPOINT = 'products';\n    const { data } = await axios.get(`${BASE_URL}/${ENDPOINT}/${id}`);\n    return data;\n  } catch (err) {\n    console.error(err);\n  }\n}\n\nfunction createMarkupProductCard(\n  _id,\n  category,\n  desc,\n  img,\n  name,\n  popularity,\n  price,\n  size\n) {\n  let updateCartItems = [];\n  let idx = -1;\n  if (loadStorage('cartItems')) {\n    updateCartItems = loadStorage('cartItems');\n    idx = updateCartItems.findIndex(element => element.id === _id);\n  }\n  const placeholderImg = './img/image-placeholder.png';\n  return `<div data-id=\"${_id}\" class=\"product_item modal-product-div\">\n  <div class=\"product-container\">\n    <div class=\"product-image-box\">\n        <img id=\"product__image\" class=\"product-image\" src=\"${\n          img !== null ? img : placeholderImg\n        }\" alt=\"${name}\"  aria-label=\"product\">\n    </div>\n    <div class=\"product-descr\">\n        <h4 id=\"product__title\" class=\"product-title\">${name}</h4>\n        <ul class=\"product-details-list\">\n            <li id=\"product_category_name\" class=\"product-details-text product-details-item\"><span class=\"span-details-text\">Category: </span>${category}</li>\n            <li id=\"product_size\" class=\"product-details-text product-details-item\"><span class=\"span-details-text\">Size: </span>${size}</li>\n            <li class=\"product-details-text\"><span class=\"span-details-text product-details-item\">Popularity: </span>${popularity}</li>\n        </ul>\n        <p class=\"product-text\">${desc}</p>\n    </div>\n    </div>\n    <div class=\"product-wraper\">\n    <span id=\"product__price\" class=\"product-price\">$${price}</span>\n    <button class=\"product-btn-shopping-cart add-to-cart\" type=\"button\" data-id=\"${_id}\" aria-label=\"add-cart\">\n        <span ${\n          idx === -1 ? \"style = 'display:block'\" : \"style = 'display:none'\"\n        } class=\"card-icon-cart\">Add to</span>\n        <span ${\n          idx === -1 ? \"style = 'display:none'\" : \"style = 'display:block'\"\n        } class=\"card-icon-check\">Remove from</span>\n        <svg class=\"product-cart-icon\" width=\"18\" height=\"18\" aria-label=\"remove-cart\">\n            <use xlink:href=\"${sprite}#shopping-cart\" ></use>\n        </svg>\n    </button>\n    </div>\n    <button class=\"modal-btn-close js-btn-close-card\" type=\"button\" aria-label=\"close-modal\">\n    <svg class=\"icon-close\" aria-label=\"cart\"> \n        <use xlink:href=\"${sprite}#close-cross\"></use>\n      </svg>\n    </button>\n    </div>`;\n}\n"],"names":["changeCounter","KEY","itemsContainer","checkLS","e","button","itemId","buttonId","id","img","imgDsc","title","category","size","price","saveStorage","changeIconCards","updateCartItems","loadStorage","idx","element","key","value","serializedState","error","counter","dataId","card","cartIcon","checkIcon","createProductItemMarkup","_id","name","desc","popularity","is10PercentOff","sprite","COMMONS","onPaginationClick","event","selectedPage","fetchProducts","updatePagination","item","createPaginationItem","pageNumber","isActive","activeClass","paddingChange","createEllipsisItem","createPaginationMarkup","totalHits","page","hidePagination","lastPage","displayedPages","paginationList","paginationHTML","startPage","endPage","i","filterForm","keywordInput","categorySelectButton","categoryList","sortProductsButton","sortProductsList","productsList","svgCategory","svgSort","categories","saveFiltersToLocalStorage","loadFiltersFromLocalStorage","savedFilters","displayCategory","updateSortButtonText","onResize","url","showLoaderProductList","data","axios","displayProducts","hideLoaderProductList","products","product","fetchCategories","displayCategories","listItems","sortOption","updateCategoryButtonText","getCategoryValue","selectedItem","getSortValue","hideCategoryList","hideSortList","selectedCategory","selectedSortOption","limit","popularList","getPopular","response","createMarkup","newCategory","refs","productsWithDiscountShow","cards","productsWithDiscountServise","randomCards","getRandomTwoCards","productsWithDiscountMarkup","BASE_URL","END_POINT","arr","newArray","randomIndex1","element1","randomIndex2","element2","array","modalCard","backdrop","loader","fatherDiv","body","onClickProductCard","elementId","cardInfo","getProductCardInfo","modalCardMarkup","createMarkupProductCard","closeBtn","onClick","backdropOnClick","onEscape","evt","ENDPOINT","err"],"mappings":"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"}